<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Krisna Gupta">
<meta name="dcterms.date" content="2023-11-02">

<title>green_paper</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="green_paper_files/libs/clipboard/clipboard.min.js"></script>
<script src="green_paper_files/libs/quarto-html/quarto.js"></script>
<script src="green_paper_files/libs/quarto-html/popper.min.js"></script>
<script src="green_paper_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="green_paper_files/libs/quarto-html/anchor.min.js"></script>
<link href="green_paper_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="green_paper_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="green_paper_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="green_paper_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="green_paper_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="green_paper.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="green_paper.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">green_paper</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Krisna Gupta </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    awokawokawo
  </div>
</div>

</header>

<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>Some shit from <span class="citation" data-cites="SEBK17">Sabzevar et al. (<a href="#ref-SEBK17" role="doc-biblioref">2017</a>)</span> and <span class="citation" data-cites="HDZ17">He, Dou, and Zhang (<a href="#ref-HDZ17" role="doc-biblioref">2017</a>)</span> on calculation of cap n trade.</p>
</section>
<section id="literature-review" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="literature-review"><span class="header-section-number">2</span> Literature Review</h2>
<p>The recent NDC and carbon market</p>
<p>The Indonesian electricity</p>
<p>Some method people use</p>
<p>kwoakoawkoakwokawo <span class="citation" data-cites="paul1">Burke and Kurniawati (<a href="#ref-paul1" role="doc-biblioref">2018</a>)</span> <span class="citation" data-cites="paul2">Burke et al. (<a href="#ref-paul2" role="doc-biblioref">2019</a>)</span> <span class="citation" data-cites="budy">Resosudarmo, Rezki, and Effendi (<a href="#ref-budy" role="doc-biblioref">2023</a>)</span></p>
</section>
<section id="method" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="method"><span class="header-section-number">3</span> Method</h2>
<p>Let <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math> be a quantity produced by the Indonesian economy which is nested with a leontief production function with energy. That is, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mo>min</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>F</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>.</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mi>G</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>ω</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Q=\min (F(.),G(\omega))</annotation></semantics></math>, where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> is a combination of factors such as capital and labour. Let <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ω</mi><annotation encoding="application/x-tex">\Omega</annotation></semantics></math> be the total energy required to produce <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math> in one period. The economy produces <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math> with a fully substitute sources:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ω</mi><mo>=</mo><msub><mi>w</mi><mi>a</mi></msub><mo>+</mo><msub><mi>w</mi><mi>b</mi></msub><mo>+</mo><msub><mi>w</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">
\omega=w_a+w_b+w_g
</annotation></semantics></math></p>
<p>where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>w</mi><mi>a</mi></msub><annotation encoding="application/x-tex">w_a</annotation></semantics></math> is the amount of clean energy used, while <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>w</mi><mi>b</mi></msub><annotation encoding="application/x-tex">w_b</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>w</mi><mi>g</mi></msub><annotation encoding="application/x-tex">w_g</annotation></semantics></math> are coal and gas respectively. if <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> is a vector of prices of the three sources of energy and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>w</mi><mi>a</mi></msub><mo>,</mo><msub><mi>w</mi><mi>b</mi></msub><mo>,</mo><msub><mi>w</mi><mi>g</mi></msub><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">w \in \{w_a,w_b,w_g\}</annotation></semantics></math>, producers in the economy are faced with a cost minimization problem to produce <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math>, and by extension, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right" style="text-align: right"><munder><mo>min</mo><mi>w</mi></munder><mspace width="0.222em"></mspace></mtd><mtd columnalign="left" style="text-align: left"><mi>p</mi><mo>⋅</mo><mi>w</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mrow><mtext mathvariant="normal">subject to </mtext><mspace width="0.333em"></mspace></mrow><mspace width="0.222em"></mspace></mtd><mtd columnalign="left" style="text-align: left"><mi>ω</mi><mo>=</mo><msub><mi>w</mi><mi>a</mi></msub><mo>+</mo><msub><mi>w</mi><mi>b</mi></msub><mo>+</mo><msub><mi>w</mi><mi>g</mi></msub></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{aligned}
\min_{w} \ &amp;  p \cdot w \\
\mbox{subject to } \ &amp; \omega=w_a+w_b+w_g
\end{aligned}
</annotation></semantics></math></p>
<p>In this setting, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math> is taken as exogenous as the consequence of the Leontief production nest. That is, factor of production is the driver of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math> and consequently <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>. This assumption allows the use of the cost minimization technique and observe the cost impact of idiosyncratic shock to prices.</p>
<p>We improve this setting by adding emission constraints. We limit total emission coming from the use of each source of energy. Next, we limit how much the total combination of emissions from these sources is allowed. This variable, then, can be set exogenously to reflect the government’s preference of emission.</p>
<p>Let <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">a,b,g</annotation></semantics></math> be parameters which reflect emission generated per megawatt hour by <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>a</mi></msub><mo>,</mo><msub><mi>w</mi><mi>b</mi></msub><mo>,</mo><msub><mi>w</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">w_a, w_b, w_g</annotation></semantics></math> respectively. Let <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ε</mi><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math> be the total emission generated by the Indonesian electricity sector, Then the total emission generated by these sources is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msub><mi>w</mi><mi>a</mi></msub><mo>+</mo><mi>b</mi><msub><mi>w</mi><mi>b</mi></msub><mo>+</mo><mi>g</mi><msub><mi>w</mi><mi>g</mi></msub><mo>=</mo><mi>ε</mi></mrow><annotation encoding="application/x-tex">
aw_a+bw_b+gw_g=\varepsilon
</annotation></semantics></math></p>
<p>With the above emission constraint, we have a complete linear system as follows:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right" style="text-align: right"><munder><mo>min</mo><mi>W</mi></munder><mspace width="0.222em"></mspace></mtd><mtd columnalign="left" style="text-align: left"><mi>p</mi><mo>⋅</mo><mi>w</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mrow><mtext mathvariant="normal">subject to </mtext><mspace width="0.333em"></mspace></mrow><mspace width="0.222em"></mspace></mtd><mtd columnalign="left" style="text-align: left"><msub><mi>w</mi><mi>a</mi></msub><mo>+</mo><msub><mi>w</mi><mi>b</mi></msub><mo>+</mo><msub><mi>w</mi><mi>G</mi></msub><mo>≥</mo><mi>ω</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"></mtd><mtd columnalign="left" style="text-align: left"><mi>a</mi><msub><mi>w</mi><mi>a</mi></msub><mo>+</mo><mi>b</mi><msub><mi>w</mi><mi>b</mi></msub><mo>+</mo><mi>g</mi><msub><mi>w</mi><mi>g</mi></msub><mo>≤</mo><mi>ε</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"></mtd><mtd columnalign="left" style="text-align: left"><msub><mi>w</mi><mi>a</mi></msub><mo>,</mo><msub><mi>w</mi><mi>b</mi></msub><mo>,</mo><msub><mi>w</mi><mi>g</mi></msub><mo>≥</mo><mn>0</mn></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{aligned}
\min_{W} \ &amp;  p \cdot w \\
\mbox{subject to } \ &amp; w_a+ w_b+ w_G \ge \omega \\
 &amp; aw_a+bw_b+gw_g \le \varepsilon \\
 &amp; w_a,w_b,w_g \ge 0\\
\end{aligned}
</annotation></semantics></math></p>
<p>The shock of the model can come from two exogenous variables <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> which reflects a carbon tax, or <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ε</mi><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math> which reflects how much carbon quota is given in the economy as a whole.</p>
<p>The next step is to find a representative parameter. <span class="citation" data-cites="pln">PLN (<a href="#ref-pln" role="doc-biblioref">2021</a>)</span> is the main source of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ω</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>⋅</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">p \cdot w</annotation></semantics></math>. Perusahaan Listrk Negara (PLN) statistics is reliable since it is the sole distributor of electricity in Indonesia. According to <span class="citation" data-cites="pln">PLN (<a href="#ref-pln" role="doc-biblioref">2021</a>)</span>, Indonesia generates 279,511.24 Gigawatt hour (GWh) in 2021. From those, around 60% are produced using coal as its main source and around 23% by some mixes of fossil fuels. Only 17% is generated by renewables, mostly hydroelectric <span class="citation" data-cites="ember pln">(<a href="#ref-ember" role="doc-biblioref">Lolla and Yang 2021</a>; <a href="#ref-pln" role="doc-biblioref">PLN 2021</a>)</span>.</p>
<p><span class="citation" data-cites="pln">PLN (<a href="#ref-pln" role="doc-biblioref">2021</a>)</span> also contains data on prices per Kilowatt hour of electricity based on sources. Total emission generated by the electricity sector is calculated based on the emission factor and how much energy source is used by the sector. Lastly, emission factor <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">a,b,g</annotation></semantics></math> are calibrated from <span class="citation" data-cites="febijanto10">Febijanto (<a href="#ref-febijanto10" role="doc-biblioref">2010</a>)</span> and <span class="citation" data-cites="jrc">Steen (<a href="#ref-jrc" role="doc-biblioref">2021</a>)</span>. The number of emission factor varies between countries and in different reports, and emission factor in this paper tries to balance those differences<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p>Also cekidot https://www.cnbcindonesia.com/news/20220119103739-4-308598/pajak-karbon-pltu-berlaku-april-2022-picu-tarif-listrik-naik</p>
<p>https://publications.jrc.ec.europa.eu/repository/handle/JRC21207</p>
<p>https://ebtke.esdm.go.id/post/2023/02/01/3414/rencana.pengembangan.pembangkit.nasional.beri.porsi.ebt.lebih.besar?lang=id</p>
</section>
<section id="results-and-discussions" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="results-and-discussions"><span class="header-section-number">4</span> Results and discussions</h2>
<p>The linear setting in the previous section is trivial enough to be solved by linear programming method in Scipy <span class="citation" data-cites="quant">(<a href="#ref-quant" role="doc-biblioref">Sargent and Stachurski n.d.</a>)</span>. Four different cases are considered in this paper.</p>
<table class="table">
<colgroup>
<col style="width: 11%">
<col style="width: 38%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>case</th>
<th>description</th>
<th>model setting</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>status quo</td>
<td>current share of energy use</td>
</tr>
<tr class="even">
<td>2</td>
<td>current emission, optimized</td>
<td>current total emission, optimized</td>
</tr>
<tr class="odd">
<td>3</td>
<td>carbon tax</td>
<td>current share but carbon is taxed</td>
</tr>
<tr class="even">
<td>4</td>
<td>long-run with aggresive target</td>
<td>like case 2 but with emission reduced by 27%</td>
</tr>
</tbody>
</table>
<p>Case 1: status quo</p>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-stdout">
<pre><code>The total cost of electricity generation is 253.27 trillion IDR
The total emission is 217,459,744,720.00 kgCO2
Total electricity generated from renewables is 47,516,910.80 MWh (17.00 %)
Total electricity generated from coal is 167,706,744.00 MWh (60.00 %)
Total electricity generated from other fossil fuels is 64,287,585.20 MWh (23.00 %)</code></pre>
</div>
</div>
<p>case 2: minimized cost, same emission (no target)</p>
<div class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>The total cost of electricity generation is 229.19 trillion IDR
The total emission is 217,459,744,720.00 kgCO2
Total electricity generated from renewables is 68,946,105.87 MWh (24.67 %)
Total electricity generated from coal is 210,565,134.13 MWh (75.33 %)
Total electricity generated from other fossil fuels is 0.00 MWh (0.00 %)</code></pre>
</div>
</div>
<p>case 3: carbon tax</p>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-stdout">
<pre><code>The total cost of electricity generation is 257.32 trillion IDR
The total emission is 217,459,744,720.00 kgCO2
Total electricity generated from renewables is 68,946,105.87 MWh (24.67 %)
Total electricity generated from coal is 210,565,134.13 MWh (75.33 %)
Total electricity generated from other fossil fuels is 0.00 MWh (0.00 %)</code></pre>
</div>
</div>
<p>case 4: aggresive carbon cap</p>
<div class="cell" data-execution_count="5">
<div class="cell-output cell-output-stdout">
<pre><code>The total cost of electricity generation is 269.41 trillion IDR
The total emission is 158,745,613,645.60 kgCO2
Total electricity generated from renewables is 134,184,029.28 MWh (48.01 %)
Total electricity generated from coal is 145,327,210.72 MWh (51.99 %)
Total electricity generated from other fossil fuels is 0.00 MWh (0.00 %)</code></pre>
</div>
</div>
<p>case 5: non-aggresive transition</p>
<div class="cell" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>The total cost of electricity generation is 325.96 trillion IDR
The total emission is 158,745,613,645.60 kgCO2
Total electricity generated from renewables is 83,853,372.00 MWh (30.00 %)
Total electricity generated from coal is 44,665,896.15 MWh (15.98 %)
Total electricity generated from other fossil fuels is 150,991,971.85 MWh (54.02 %)</code></pre>
</div>
</div>
<p>bangke <code>{python} case5.biaya()</code> anjay</p>
</section>
<section id="bibliography" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="bibliography">Bibliography</h2>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-paul1" class="csl-entry" role="listitem">
Burke, Paul J., and Sandra Kurniawati. 2018. <span>“Electricity Subsidy Reform in Indonesia: Demand-Side Effects on Electricity Use.”</span> <em>Energy Policy</em> 116: 410–21. https://doi.org/<a href="https://doi.org/10.1016/j.enpol.2018.02.018">https://doi.org/10.1016/j.enpol.2018.02.018</a>.
</div>
<div id="ref-paul2" class="csl-entry" role="listitem">
Burke, Paul J., Jinnie Widnyana, Zeba Anjum, Emma Aisbett, Budy Resosudarmo, and Kenneth G. H. Baldwin. 2019. <span>“Overcoming Barriers to Solar and Wind Energy Adoption in Two Asian Giants: India and Indonesia.”</span> <em>Energy Policy</em> 132: 1216–28. https://doi.org/<a href="https://doi.org/10.1016/j.enpol.2019.05.055">https://doi.org/10.1016/j.enpol.2019.05.055</a>.
</div>
<div id="ref-febijanto10" class="csl-entry" role="listitem">
Febijanto, Irhan. 2010. <span>“Perhitungan Faktor Emisi Di Sistem Jaringan Ketenagalistrikan Jawa-Madura-Bali.”</span> <em>Jurnal Teknologi Lingkungan BPPT</em> 11 (2): 227–37. <a href="https://doi.org/10.29122/jtl.v11i2.1207">https://doi.org/10.29122/jtl.v11i2.1207</a>.
</div>
<div id="ref-HDZ17" class="csl-entry" role="listitem">
He, Ping, Guowei Dou, and Wei Zhang. 2017. <span>“Optimal Production Planning and Cap Setting Under Cap-and-Trade Regulation.”</span> <em>The Journal of the Operational Research Society</em> 68 (9): 1094–1105. https://doi.org/<a href="https://doi.org/10.1057/s41274-016-0123-1">https://doi.org/10.1057/s41274-016-0123-1</a>.
</div>
<div id="ref-ember" class="csl-entry" role="listitem">
Lolla, Aditya, and Muyi Yang. 2021. <span>“Indonesia: Indonesia Defies Global Trend with More Coal in the Generation-Mix.”</span> ember-climate; Global Electricity Review 2021: G20 profile.
</div>
<div id="ref-pln" class="csl-entry" role="listitem">
PLN. 2021. <span>“Statistik PLN.”</span> 01001-220630. Perusahaan Listrik Negara.
</div>
<div id="ref-budy" class="csl-entry" role="listitem">
Resosudarmo, Budy P., Jahen F. Rezki, and Yuventus Effendi. 2023. <span>“Prospects of Energy Transition in Indonesia.”</span> <em>Bulletin of Indonesian Economic Studies</em> 59 (2): 149–77. <a href="https://doi.org/10.1080/00074918.2023.2238336">https://doi.org/10.1080/00074918.2023.2238336</a>.
</div>
<div id="ref-SEBK17" class="csl-entry" role="listitem">
Sabzevar, Nikoo, S. T. Enns, Joule Bergerson, and Janne Kettunen. 2017. <span>“Modeling Competitive Firms’ Performance Under Price-Sensitive Demand and Cap-and-Trade Emissions Constraints.”</span> <em>International Journal of Production Economics</em> 184: 193–209. https://doi.org/<a href="https://doi.org/10.1016/j.ijpe.2016.10.024">https://doi.org/10.1016/j.ijpe.2016.10.024</a>.
</div>
<div id="ref-quant" class="csl-entry" role="listitem">
Sargent, Thomas J., and John Stachurski. n.d. <span>“Intermediate Quantitative Economics with Python.”</span> quantecon.org.
</div>
<div id="ref-jrc" class="csl-entry" role="listitem">
Steen, M. 2021. <span>“Greenhouse Gas Emissions from Fossil Fuel Fired Power Generation Systems.”</span> JRC21207. JRC Publications Repository. <a href="https://publications.jrc.ec.europa.eu/repository/handle/JRC21207">https://publications.jrc.ec.europa.eu/repository/handle/JRC21207</a>.
</div>
</div>
</section>
<section id="appendix" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="appendix">Appendix</h2>
<section id="linear-programming-exercise" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="linear-programming-exercise">Linear programming exercise</h3>
<p>This paper modifies <span class="citation" data-cites="quant">Sargent and Stachurski (<a href="#ref-quant" role="doc-biblioref">n.d.</a>)</span>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.optimize <span class="im">import</span> linprog</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> carbon:</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">r"""</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">  implements the perfect substition of energy usage with prices and emission as the contraints. Note: the default emission is calculated by share of electricity generated times its emission factor.</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, omega<span class="op">=</span><span class="fl">279511240.0</span>,  <span class="co">#MWh</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                     e<span class="op">=</span><span class="fl">217459744720.0</span>,   <span class="co">#KgCO2</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                     pa<span class="op">=</span><span class="dv">1284440</span>,         <span class="co">#Rp/MWh</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                     pb<span class="op">=</span><span class="dv">667880</span>,          <span class="co">#Rp/MWh</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                     pg<span class="op">=</span><span class="dv">1247930</span>,         <span class="co">#Rp/MWh</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                     a<span class="op">=</span><span class="dv">100</span>,              <span class="co">#KgCO2/MWh</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>                     b<span class="op">=</span><span class="dv">1000</span>,             <span class="co">#KgCO2/MWh</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>                     g<span class="op">=</span><span class="dv">700</span>,              <span class="co">#KgCO2/MWh</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>                     ba<span class="op">=</span>(<span class="dv">0</span>,<span class="va">None</span>),</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>                     bb<span class="op">=</span>(<span class="dv">0</span>,<span class="va">None</span>),</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>                     bg<span class="op">=</span>(<span class="dv">0</span>,<span class="va">None</span>)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>                     ):</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.omega,<span class="va">self</span>.e,<span class="va">self</span>.pa,<span class="va">self</span>.pb,<span class="va">self</span>.pg,<span class="va">self</span>.a,<span class="va">self</span>.b,<span class="va">self</span>.g<span class="op">=</span>omega,e,pa,pb,pg,a,b,g</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.ba,<span class="va">self</span>.bb,<span class="va">self</span>.bg<span class="op">=</span>ba,bb,bg</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> hasil(<span class="va">self</span>):</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    omega,e,pa,pb,pg,a,b,g<span class="op">=</span><span class="va">self</span>.omega,<span class="va">self</span>.e,<span class="va">self</span>.pa,<span class="va">self</span>.pb,<span class="va">self</span>.pg,<span class="va">self</span>.a,<span class="va">self</span>.b,<span class="va">self</span>.g</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    ba,bb,bg<span class="op">=</span><span class="va">self</span>.ba,<span class="va">self</span>.bb,<span class="va">self</span>.bg</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Construct parameters</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    c_ex1 <span class="op">=</span> np.array([pa,pb,pg])</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Inequality constraints</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    A_ex1 <span class="op">=</span> np.array([[<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>],</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>                  [a,b,g]])</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    b_ex1 <span class="op">=</span> np.array([<span class="op">-</span>omega,e])</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    bounds_ex2 <span class="op">=</span> [ba,</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>                  bb,</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>                  bg]</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Solve the problem</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we put a negative sign on the objective as linprog does minimization</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    res_ex1 <span class="op">=</span> linprog(c_ex1, A_ub<span class="op">=</span>A_ex1, b_ub<span class="op">=</span>b_ex1,bounds<span class="op">=</span>bounds_ex2)</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res_ex1</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> biaya(<span class="va">self</span>):</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    omega,e,pa,pb,pg,a,b,g<span class="op">=</span><span class="va">self</span>.omega,<span class="va">self</span>.e,<span class="va">self</span>.pa,<span class="va">self</span>.pb,<span class="va">self</span>.pg,<span class="va">self</span>.a,<span class="va">self</span>.b,<span class="va">self</span>.g</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    h<span class="op">=</span><span class="va">self</span>.hasil()[<span class="st">'x'</span>]</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    v<span class="op">=</span>np.array((pa,pb,pg))</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">print</span>(<span class="ss">f'total biaya pembangkit listrik adalah </span><span class="sc">{</span>h <span class="op">@</span> v<span class="sc">}</span><span class="ss"> rupiah'</span>)</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> emisi(<span class="va">self</span>):</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    omega,e,pa,pb,pg,a,b,g<span class="op">=</span><span class="va">self</span>.omega,<span class="va">self</span>.e,<span class="va">self</span>.pa,<span class="va">self</span>.pb,<span class="va">self</span>.pg,<span class="va">self</span>.a,<span class="va">self</span>.b,<span class="va">self</span>.g</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    h<span class="op">=</span><span class="va">self</span>.hasil()[<span class="st">'x'</span>]</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    v<span class="op">=</span>np.array((a,b,g))</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">print</span>(<span class="ss">f'total emisi adalah </span><span class="sc">{</span>h <span class="op">@</span> v<span class="sc">}</span><span class="ss"> kgCO2'</span>)</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> energi(<span class="va">self</span>):</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>    omega,e,pa,pb,pg,a,b,g<span class="op">=</span><span class="va">self</span>.omega,<span class="va">self</span>.e,<span class="va">self</span>.pa,<span class="va">self</span>.pb,<span class="va">self</span>.pg,<span class="va">self</span>.a,<span class="va">self</span>.b,<span class="va">self</span>.g</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>    sumber<span class="op">=</span>(<span class="st">'EBT'</span>,<span class="st">'batubara'</span>,<span class="st">'fosil lain'</span>)</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    itung<span class="op">=</span><span class="va">self</span>.hasil()[<span class="st">'x'</span>]</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i,j <span class="kw">in</span> <span class="bu">zip</span>(sumber,itung):</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="ss">f'jumlah energi dari </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss"> adalah </span><span class="sc">{</span>j<span class="sc">}</span><span class="ss"> MWh'</span>)</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See appendix for a more complete codes and parameterisation used in this paper.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>